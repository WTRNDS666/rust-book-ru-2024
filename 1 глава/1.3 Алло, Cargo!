==================
1.3 Алло, Cargo!
==================

Cargo — это система сборки и менеджер пакетов для Rust. Почти все Растациане юзают именно его, потому что он берет на себя всю рутину: собирает код, сам качает нужные библиотеки (мы называем их «зависимостями») и компилирует их.

Для простых прог типа «Hello World» Cargo может показаться избыточным, но как только ты начнешь подключать внешние либы, без него ты взвоешь. Поэтому во всей остальной книге мы будем юзать только его.

Если ты ставил Rust через официальный инсталлер, то Cargo у тебя уже есть. Проверь в терминале:
`$ cargo --version`
Если выдало версию — красава. Если ошибка — ищи, где накосячил при установке.

===============================
Создание проекта через Cargo
===============================

Давай создадим новый проект и глянем, чем он отличается от того, что мы делали вручную. Иди в свою папку `projects` и пиши:

```bash
$ cargo new hello_cargo
$ cd hello_cargo
```

Эта команда создаст папку `hello_cargo` со всеми потрохами. Зайди внутрь и увидишь:
1.  Файл `Cargo.toml`.
2.  Папку `src`, внутри которой лежит `main.rs`.
3.  Там же инициализируется Git-репозиторий и создается `.gitignore`.

Открой Cargo.toml**. Это конфиг нашего проекта в формате TOML (Tom’s Obvious, Minimal Language). Выглядит он так:

[package]
name = "hello_cargo"
version = "0.1.0"
edition = "2024"

[dependencies]


–   [package] — здесь прописаны настройки твоего пакета: имя, версия и «издание» (edition) Раста.
–   [dependencies] — сюда мы будем вписывать чужие библиотеки (в Rust они называются crates — ящики). Пока тут пусто.

Теперь зацени src/main.rs: Cargo уже сам нафигачил туда «Hello, world!». 
Важное правило: Cargo хочет, чтобы весь твой код лежал в папке src. В корне проекта должны лежать только конфиги, ридми, лицензии и прочий не кодерский стафф. Это помогает держать проект в чистоте.

=========================
Сборка и запуск проекта
=========================

С Cargo всё делается гораздо проще. В папке проекта вбивай:

$ cargo build

Оно скомпилирует проект и положит исполняемый файл в target/debug/hello_cargo. Запустить его можно так:
$ ./target/debug/hello_cargo

При первой сборке также создастся файл Cargo.lock. Его не надо трогать руками, Cargo сам там помечает версии библиотек, чтобы у тебя ничего не сломалось в будущем.

А теперь магия — команда `cargo run`. Она скомпилит код (если что-то менялось) и тут же его запустит. Одной кнопкой:

$ cargo run
Hello, world!

Если ты ничего не менял в коде, Cargo поймет это и не будет пересобирать бинарник, а просто запустит готовый.

Ещё есть команда `cargo check`. Она просто проверяет, компилируется ли твой код, но не делает исполняемый файл. Это намного быстрее, чем build. Растациане постоянно прогоняют check во время написания кода, чтобы вовремя ловить косяки, а build делают уже в конце.

===================
Сборка для релиза
===================

Когда ты решишь, что твоя прога готова к захвату мира, пиши:
$ cargo build --release

Это создаст супер-оптимизированный и быстрый бинарник в папке target/release. Компилироваться будет дольше, но зато летать будет как ракета. Если хочешь замерить скорость — всегда замеряй только релизную сборку.

#### Итоги главы:
–   Создаем проект: cargo new имя
–   Собираем: cargo build
–   Запускаем: cargo run
–   Проверяем на ошибки без сборки: cargo check
–   Весь код — в папке src.

Теперь ты готов к настоящему программированию! В следующей главе мы напишем игру «Угадай число» и потрогаем Rust за живое.
